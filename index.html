<!DOCTYPE html>
<html lang="ko" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Simulation Universe | Interactive Hub</title>
    <!-- Tailwind v4 CDN -->
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-slate-950 text-slate-50 min-h-screen overflow-x-hidden">

    <!-- Star Field Background -->
    <canvas id="starfield" class="pointer-events-none fixed inset-0 z-0 opacity-40"></canvas>

    <main class="relative z-10 mx-auto max-w-5xl px-4 pb-24">
        
        <!-- Hero Section -->
        <section class="relative flex flex-col items-center px-4 pt-20 pb-10 text-center md:pt-28 md:pb-14">
            <!-- Ambient Glows -->
            <div class="pointer-events-none absolute top-0 left-1/2 h-[500px] w-[800px] -translate-x-1/2 rounded-full bg-neon-green/[0.03] blur-[120px]"></div>
            <div class="pointer-events-none absolute top-20 left-1/3 h-[300px] w-[400px] -translate-x-1/2 rounded-full bg-neon-purple/[0.03] blur-[100px]"></div>

            <div class="mb-6 inline-flex items-center gap-2 rounded-full border border-border bg-slate-900/50 px-4 py-1.5 text-xs font-medium text-slate-400 backdrop-blur-sm">
                <span class="inline-block h-1.5 w-1.5 rounded-full bg-neon-green animate-pulse"></span>
                Interactive Simulation Hub
            </div>

            <div class="flex items-center gap-4 mb-4">
                <!-- Neon SVG Logo -->
                <svg width="50" height="50" viewBox="0 0 100 100" class="filter drop-shadow-[0_0_8px_rgba(74,222,128,0.8)]">
                    <circle cx="50" cy="50" r="45" fill="none" stroke="#4ade80" stroke-width="2" stroke-dasharray="280" class="animate-[spin_10s_linear_infinite]" />
                    <path d="M30 50 L50 30 L70 50 L50 70 Z" fill="none" stroke="#38bdf8" stroke-width="3" />
                    <circle cx="50" cy="50" r="8" fill="#a855f7" class="animate-pulse" />
                </svg>
                <h1 class="text-4xl font-bold tracking-tight text-white md:text-5xl lg:text-6xl">
                    <span class="bg-gradient-to-r from-neon-green via-white to-neon-blue bg-clip-text text-transparent">
                        AI Simulation Universe
                    </span>
                </h1>
            </div>

            <p class="mb-10 max-w-xl text-sm leading-relaxed text-slate-400 md:text-base">
                미지의 우주와 수학적 공간을 탐험하는 인터랙티브 허브입니다. 모든 모듈이 복구되었습니다.
            </p>

            <!-- Search Bar -->
            <div class="group relative w-full max-w-md">
                <div class="absolute top-1/2 left-4 h-4 w-4 -translate-y-1/2 text-slate-500 transition-colors duration-300 group-focus-within:text-neon-green">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-4 w-4">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </div>
                <input type="text" id="simulation-search" placeholder="시뮬레이션 검색..." 
                       class="h-11 w-full rounded-xl border border-border bg-slate-900/50 pl-11 pr-4 text-sm text-white placeholder:text-slate-500 backdrop-blur-sm transition-all duration-300 outline-none focus:border-neon-green/50 focus:ring-1 focus:ring-neon-green/20">
            </div>
        </section>

        <!-- Tabs Section -->
        <div class="mb-8 flex justify-center">
            <div class="flex h-10 rounded-xl border border-border bg-slate-900/60 p-1 backdrop-blur-sm" id="tab-list">
                <button data-tab="all" class="tab-trigger rounded-lg px-4 text-sm transition-all duration-200 active-tab">전체</button>
                <button data-tab="game" class="tab-trigger rounded-lg px-4 text-sm transition-all duration-200">Game</button>
                <button data-tab="simulation" class="tab-trigger rounded-lg px-4 text-sm transition-all duration-200">Simulation</button>
                <button data-tab="math" class="tab-trigger rounded-lg px-4 text-sm transition-all duration-200">Math & Physics</button>
            </div>
        </div>

        <!-- Simulation Grid -->
        <div id="simulation-grid" class="grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
            <!-- Cards will be injected here by JS -->
        </div>

        <div id="no-results" class="hidden py-16 text-center text-sm text-slate-500">
            검색 결과가 없습니다.
        </div>
    </main>

    <style>
        .active-tab {
            background-color: hsl(240 3.7% 15.9%);
            color: white;
            box-shadow: 0 0 12px rgba(74, 222, 128, 0.08);
        }
        .tab-trigger { color: #94a3b8; }
        .tab-trigger:hover:not(.active-tab) { color: white; }
    </style>

    <script>
        /* ──────────────── Simulation Data ─────────────────── */
        const simulations = [
            { id: "minesweeper", url: "minesweeper.html", title: "네온 지뢰찾기", tag: "Game", category: "game", description: "골프장 배경과 3D 입체 타일을 즐길 수 있는 지뢰찾기.", neonColor: "green" },
            { id: "grapher", url: "grapher.html", title: "네온 그래퍼", tag: "Math", category: "math", description: "3D 레이마칭 엔진으로 시각화하는 네온 수학 그래프.", neonColor: "purple" },
            { id: "solar", url: "solar-system.html", title: "태양계", tag: "Physics", category: "math", description: "천체 물리 데이터를 기반으로 한 행성 궤도 시뮬레이션.", neonColor: "blue" },
            { id: "slime-mold", url: "slime-mold.html", title: "슬라임 몰드", tag: "Bio", category: "simulation", description: "점균류의 유기적 패턴을 재현하는 창의적 시뮬레이션.", neonColor: "emerald" },
            { id: "fish-flocking", url: "fish-flocking.html", title: "물고기 떼", tag: "Bio", category: "simulation", description: "보이드 알고리즘을 이용한 어류의 집단 행동 모사.", neonColor: "cyan" },
            { id: "double-pendulum", url: "double-pendulum.html", title: "이중 진자", tag: "Physics", category: "math", description: "카오스 이론을 보여주는 예측 불가능한 물리 실험.", neonColor: "orange" },
            { id: "binary-star", url: "binary-star.html", title: "이중성 시스템", tag: "Physics", category: "math", description: "두 항성이 서로의 중력에 묶여 회전하는 천체 시뮬.", neonColor: "blue" },
            { id: "nasa-daily", url: "nasa-daily.html", title: "NASA 오늘의 우주", tag: "NASA", category: "simulation", description: "나사 API를 통해 매일 새로운 우주의 사진과 정보를 제공합니다.", neonColor: "blue" },
            { id: "iss-tracker", url: "iss-tracker.html", title: "ISS 실시간 추적", tag: "Live", category: "simulation", description: "국제우주정거장의 실시간 위치와 속도를 추적합니다.", neonColor: "cyan" },
            { id: "vector", url: "vector.html", title: "벡터 시각화", tag: "Math", category: "math", description: "선형대수학의 기초가 되는 벡터 연산 시각화 도구.", neonColor: "indigo" }
        ];

        /* ──────────────── Star Field ─────────────────── */
        function initStarfield() {
            const canvas = document.getElementById('starfield');
            const ctx = canvas.getContext('2d');
            let stars = [];
            const resize = () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; };
            window.addEventListener('resize', resize); resize();
            stars = Array.from({ length: 120 }, () => ({
                x: Math.random() * canvas.width, y: Math.random() * canvas.height,
                size: Math.random() * 1.5 + 0.2, speed: Math.random() * 0.1 + 0.02,
                opacity: Math.random() * 0.5 + 0.1, twinkleSpeed: Math.random() * 0.005, twinkleOffset: Math.random() * 10
            }));
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                stars.forEach(s => {
                    s.y -= s.speed; if (s.y < -5) s.y = canvas.height + 5;
                    const alpha = s.opacity * (0.5 + 0.5 * Math.sin(Date.now() * s.twinkleSpeed + s.twinkleOffset));
                    ctx.beginPath(); ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2);
                    ctx.fillStyle = `rgba(200, 220, 255, ${alpha})`; ctx.fill();
                });
                requestAnimationFrame(animate);
            }
            animate();
        }

        /* ──────────────── UI Logic ─────────────────── */
        const grid = document.getElementById('simulation-grid');
        const searchInput = document.getElementById('simulation-search');

        function renderCards() {
            const query = searchInput.value.toLowerCase().trim();
            const filtered = simulations.filter(sim => {
                const matchesTab = currentTab === 'all' || sim.category === currentTab;
                const matchesSearch = sim.title.toLowerCase().includes(query) || sim.description.toLowerCase().includes(query);
                return matchesTab && matchesSearch;
            });

            grid.innerHTML = '';
            if (filtered.length === 0) { document.getElementById('no-results').classList.remove('hidden'); return; }
            document.getElementById('no-results').classList.add('hidden');

            filtered.forEach((sim, index) => {
                const card = document.createElement('div');
                const neonColor = sim.neonColor === 'emerald' ? 'green' : (sim.neonColor === 'indigo' ? 'blue' : sim.neonColor);
                card.className = `reveal group relative flex flex-col rounded-xl border border-border bg-slate-900/40 p-6 card-neon-${neonColor}`;
                card.innerHTML = `
                    <div class="mb-5 flex items-center gap-3">
                        <div class="flex h-10 w-10 items-center justify-center rounded-lg bg-slate-800 text-neon-${neonColor}">
                            <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                        </div>
                        <span class="px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase border border-neon-${neonColor}/20 bg-neon-${neonColor}/5 text-neon-${neonColor}">${sim.tag}</span>
                    </div>
                    <h3 class="mb-2 text-lg font-bold text-white">${sim.title}</h3>
                    <p class="mb-6 flex-1 text-sm text-slate-400 leading-relaxed">${sim.description}</p>
                    <a href="${sim.url}" class="w-full text-center py-2.5 rounded-lg border border-border bg-slate-800/50 text-sm font-medium hover:border-neon-${neonColor}/40 hover:text-white transition-all">진입하기 →</a>
                `;
                grid.appendChild(card);
            });
            observeCards();
        }

        let currentTab = 'all';
        document.querySelectorAll('.tab-trigger').forEach(btn => {
            btn.onclick = () => {
                document.querySelectorAll('.tab-trigger').forEach(b => b.classList.remove('active-tab'));
                btn.classList.add('active-tab');
                currentTab = btn.dataset.tab;
                renderCards();
            };
        });

        searchInput.oninput = renderCards;

        /* ──────────────── Intersection Observer ─────────────────── */
        function observeCards() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        }

        initStarfield();
        renderCards();
    </script>
</body>
</html>
