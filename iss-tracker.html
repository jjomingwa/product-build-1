<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISS Tracker | AI Simulation Universe</title>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-slate-950 text-slate-50 min-h-screen flex flex-col items-center p-6">
    <canvas id="starfield" class="pointer-events-none fixed inset-0 z-0 opacity-30"></canvas>

    <div class="relative z-10 max-w-2xl w-full">
        <header class="mb-10 text-center">
            <div class="inline-flex items-center gap-2 rounded-full border border-neon-green/20 bg-green-500/5 px-4 py-1.5 text-xs font-medium text-neon-green mb-4">
                Real-time Satellite API
            </div>
            <h1 class="text-4xl font-bold bg-gradient-to-r from-neon-green to-neon-blue bg-clip-text text-transparent mb-2">국제우주정거장 추적</h1>
            <p class="text-slate-400">현재 지구 궤도를 돌고 있는 ISS의 위치를 실시간으로 확인하세요.</p>
        </header>

        <div class="grid grid-cols-2 gap-4 mb-8">
            <div class="card-neon-green bg-slate-900/40 p-6 rounded-xl border border-border">
                <p class="text-xs text-slate-500 uppercase font-bold mb-1">Latitude (위도)</p>
                <h3 id="lat" class="text-2xl font-mono text-neon-green">0.0000</h3>
            </div>
            <div class="card-neon-blue bg-slate-900/40 p-6 rounded-xl border border-border">
                <p class="text-xs text-slate-500 uppercase font-bold mb-1">Longitude (경도)</p>
                <h3 id="lng" class="text-2xl font-mono text-neon-blue">0.0000</h3>
            </div>
            <div class="card-neon-purple bg-slate-900/40 p-6 rounded-xl border border-border">
                <p class="text-xs text-slate-500 uppercase font-bold mb-1">Velocity (속도)</p>
                <h3 id="velocity" class="text-2xl font-mono text-neon-purple">0 km/h</h3>
            </div>
            <div class="card-neon-orange bg-slate-900/40 p-6 rounded-xl border border-border">
                <p class="text-xs text-slate-500 uppercase font-bold mb-1">Altitude (고도)</p>
                <h3 id="altitude" class="text-2xl font-mono text-neon-orange">0 km</h3>
            </div>
        </div>

        <!-- Simple Map Concept -->
        <div class="relative h-64 bg-slate-900 rounded-2xl border border-border overflow-hidden mb-8">
            <div class="absolute inset-0 opacity-20 bg-[url('https://upload.wikimedia.org/wikipedia/commons/8/83/Equirectangular_projection_SW.jpg')] bg-cover"></div>
            <div id="iss-dot" class="absolute w-4 h-4 bg-neon-green rounded-full shadow-[0_0_15px_#4ade80] -translate-x-1/2 -translate-y-1/2 transition-all duration-1000"></div>
            <div class="absolute bottom-4 left-4 text-[10px] text-slate-500 font-mono uppercase tracking-widest">Live Orbital Map Overlay</div>
        </div>

        <div class="text-center">
            <a href="index.html" class="px-8 py-3 rounded-lg border border-border bg-slate-800/50 text-sm font-medium hover:text-neon-green transition-all inline-block">허브로 돌아가기</a>
            <p class="mt-4 text-xs text-slate-600">데이터는 2초마다 자동 갱신됩니다.</p>
        </div>
    </div>

    <script>
        const latEl = document.getElementById('lat');
        const lngEl = document.getElementById('lng');
        const velEl = document.getElementById('velocity');
        const altEl = document.getElementById('altitude');
        const dot = document.getElementById('iss-dot');

        async function updateISS() {
            try {
                const response = await fetch('https://api.wheretheiss.at/v1/satellites/25544');
                const data = await response.json();

                latEl.innerText = data.latitude.toFixed(4);
                lngEl.innerText = data.longitude.toFixed(4);
                velEl.innerText = `${Math.round(data.velocity)} km/h`;
                altEl.innerText = `${Math.round(data.altitude)} km`;

                // Map projection (simple equirectangular)
                const x = ((data.longitude + 180) / 360) * 100;
                const y = ((90 - data.latitude) / 180) * 100;
                dot.style.left = `${x}%`;
                dot.style.top = `${y}%`;

            } catch (error) {
                console.error('ISS Data Error:', error);
            }
        }

        // Starfield
        const canvas = document.getElementById('starfield');
        const ctx = canvas.getContext('2d');
        let stars = [];
        const resize = () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; };
        window.addEventListener('resize', resize); resize();
        stars = Array.from({ length: 80 }, () => ({
            x: Math.random() * canvas.width, y: Math.random() * canvas.height,
            size: Math.random() * 1.5, speed: Math.random() * 0.05
        }));
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            stars.forEach(s => {
                s.y -= s.speed; if (s.y < -5) s.y = canvas.height + 5;
                ctx.beginPath(); ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(255, 255, 255, 0.2)'; ctx.fill();
            });
            requestAnimationFrame(animate);
        }
        animate();

        setInterval(updateISS, 2000);
        updateISS();
    </script>
</body>
</html>
